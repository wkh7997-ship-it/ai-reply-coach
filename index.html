<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>AI í”¼ë¶€ ì½”ì¹˜</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <link rel="manifest" href="/manifest.json" />
  <style>
    :root {
      --primary: #6366f1;
      --primary-dark: #4f46e5;
      --bg1: #050816;
      --bg2: #3b1d6a;
      --text-main: #f9fafb;
      --text-sub: #a5b4fc;
      --border: rgba(255, 255, 255, 0.16);
      --card-bg: rgba(8, 12, 32, 0.94);
      --safe: #22c55e;
      --warn: #eab308;
      --danger: #ef4444;
      --surface: rgba(15, 23, 42, 0.9);
      --shadow-soft: 0 22px 45px rgba(15, 23, 42, 0.78);
      --radius-lg: 24px;
      --radius-xl: 32px;
      --radius-pill: 999px;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html, body {
      height: 100%;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Pretendard", "Noto Sans KR", sans-serif;
      color: var(--text-main);
      background: radial-gradient(circle at top, #1d2238 0, #050816 45%, #020617 100%);
    }

    body {
      display: flex;
      align-items: stretch;
      justify-content: center;
      padding: 16px;
    }

    .app-shell {
      width: 100%;
      max-width: 1120px;
      margin: auto;
      display: grid;
      grid-template-columns: minmax(0, 1.1fr) minmax(0, 1.3fr);
      gap: 20px;
      background: linear-gradient(135deg, rgba(15, 23, 42, 0.9), rgba(17, 24, 39, 0.95));
      border-radius: 32px;
      border: 1px solid rgba(148, 163, 184, 0.35);
      box-shadow: var(--shadow-soft);
      overflow: hidden;
      position: relative;
    }

    .app-shell::before {
      content: "";
      position: absolute;
      inset: -40%;
      background:
        radial-gradient(circle at 0% 0%, rgba(129, 140, 248, 0.18) 0, transparent 50%),
        radial-gradient(circle at 100% 0%, rgba(236, 72, 153, 0.16) 0, transparent 55%),
        radial-gradient(circle at 50% 100%, rgba(56, 189, 248, 0.15) 0, transparent 55%);
      opacity: 0.9;
      pointer-events: none;
      z-index: -1;
    }

    .sidebar {
      padding: 24px 24px 24px 24px;
      border-right: 1px solid rgba(148, 163, 184, 0.3);
      backdrop-filter: blur(18px);
      background: radial-gradient(circle at top left, rgba(30, 64, 175, 0.45) 0, rgba(15, 23, 42, 0.9) 40%, rgba(15, 23, 42, 0.98) 100%);
    }

    .main {
      padding: 24px;
      backdrop-filter: blur(18px);
      background: radial-gradient(circle at top right, rgba(236, 72, 153, 0.32) 0, rgba(15, 23, 42, 0.96) 42%, rgba(15, 23, 42, 1) 100%);
    }

    .logo-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      margin-bottom: 24px;
    }

    .logo-main {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .logo-icon {
      width: 36px;
      height: 36px;
      border-radius: 18px;
      background: radial-gradient(circle at 30% 0, #e0f2fe 0, #a5b4fc 18%, #4f46e5 45%, #020617 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 12px 30px rgba(79, 70, 229, 0.8);
      font-size: 20px;
    }

    .logo-text-main {
      font-size: 18px;
      font-weight: 700;
      letter-spacing: 0.02em;
      display: flex;
      flex-direction: column;
    }

    .logo-badge {
      font-size: 11px;
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: rgba(191, 219, 254, 0.9);
    }

    .pill-beta {
      padding: 6px 12px;
      border-radius: 999px;
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      border: 1px solid rgba(129, 140, 248, 0.6);
      background: rgba(15, 23, 42, 0.82);
      color: #c7d2fe;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .pill-dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: radial-gradient(circle, #4ade80, #16a34a);
      box-shadow: 0 0 10px rgba(74, 222, 128, 0.8);
    }

    .hero-title {
      font-size: 26px;
      font-weight: 800;
      letter-spacing: -0.03em;
      line-height: 1.3;
      margin-bottom: 10px;
    }

    .hero-title span.accent {
      background: linear-gradient(135deg, #c4b5fd, #a5b4fc, #38bdf8);
      -webkit-background-clip: text;
      color: transparent;
    }

    .hero-sub {
      font-size: 13px;
      color: rgba(226, 232, 240, 0.82);
      line-height: 1.6;
      margin-bottom: 18px;
    }

    .hero-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-bottom: 18px;
    }

    .tag-chip {
      font-size: 11px;
      padding: 5px 9px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.55);
      background: radial-gradient(circle at top left, rgba(51, 65, 85, 0.9), rgba(15, 23, 42, 0.9));
      color: rgba(226, 232, 240, 0.88);
      display: inline-flex;
      align-items: center;
      gap: 5px;
    }

    .tag-dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: radial-gradient(circle, #a5b4fc, #4f46e5);
    }

    .hero-metric-row {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
    }

    .metric-card {
      flex: 1;
      padding: 10px 12px;
      border-radius: 18px;
      background: radial-gradient(circle at top, rgba(30, 64, 175, 0.5), rgba(15, 23, 42, 0.96));
      border: 1px solid rgba(129, 140, 248, 0.8);
      box-shadow: 0 14px 30px rgba(30, 64, 175, 0.55);
    }

    .metric-label {
      font-size: 11px;
      color: rgba(199, 210, 254, 0.95);
      text-transform: uppercase;
      letter-spacing: 0.12em;
      margin-bottom: 4px;
    }

    .metric-value {
      font-size: 14px;
      font-weight: 700;
    }

    .metric-sub {
      font-size: 11px;
      color: rgba(191, 219, 254, 0.85);
      margin-top: 1px;
    }

    .divider {
      height: 1px;
      border-radius: 999px;
      margin: 12px 0;
      background: linear-gradient(90deg, transparent, rgba(148, 163, 184, 0.5), transparent);
    }

    .section-title {
      font-size: 12px;
      font-weight: 600;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: rgba(148, 163, 184, 0.95);
      margin-bottom: 8px;
    }

    .tip-list {
      list-style: none;
      font-size: 12px;
      color: rgba(226, 232, 240, 0.9);
      display: grid;
      gap: 6px;
    }

    .tip-list li {
      display: flex;
      align-items: flex-start;
      gap: 6px;
    }

    .tip-dot {
      margin-top: 5px;
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: radial-gradient(circle, #f97316, #c2410c);
    }

    .form-card {
      border-radius: var(--radius-xl);
      background: radial-gradient(circle at top, rgba(17, 24, 39, 0.96), rgba(15, 23, 42, 0.98));
      border: 1px solid rgba(148, 163, 184, 0.5);
      padding: 16px 16px 14px;
      box-shadow: 0 20px 40px rgba(15, 23, 42, 0.9);
      position: relative;
      overflow: hidden;
    }

    .form-card::before {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at 0 0, rgba(129, 140, 248, 0.18) 0, transparent 40%);
      opacity: 0.6;
      pointer-events: none;
    }

    .form-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
      position: relative;
      z-index: 1;
    }

    .form-title {
      font-size: 13px;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .form-title-badge {
      font-size: 10px;
      padding: 3px 8px;
      border-radius: 999px;
      background: rgba(22, 163, 74, 0.12);
      color: #bbf7d0;
      border: 1px solid rgba(34, 197, 94, 0.6);
    }

    .form-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 10px 8px;
      position: relative;
      z-index: 1;
    }

    .field {
      display: flex;
      flex-direction: column;
      gap: 5px;
    }

    .field-label {
      font-size: 11px;
      color: rgba(203, 213, 225, 0.96);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .field-label span.sub {
      font-size: 10px;
      color: rgba(148, 163, 184, 0.95);
    }

    select, input[type="text"], textarea {
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      background: radial-gradient(circle at top left, rgba(15, 23, 42, 0.98), rgba(15, 23, 42, 1));
      padding: 8px 11px;
      font-size: 12px;
      color: var(--text-main);
      outline: none;
      width: 100%;
      box-shadow: 0 10px 25px rgba(15, 23, 42, 0.9);
    }

    select:focus,
    input[type="text"]:focus,
    textarea:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 1px rgba(129, 140, 248, 0.8), 0 18px 36px rgba(30, 64, 175, 0.9);
    }

    textarea {
      border-radius: 16px;
      resize: vertical;
      min-height: 70px;
      max-height: 180px;
      font-size: 12px;
      line-height: 1.5;
    }

    .field-inline {
      display: flex;
      gap: 6px;
      align-items: center;
    }

    .btn-primary {
      margin-top: 10px;
      width: 100%;
      border-radius: 999px;
      padding: 9px 14px;
      border: none;
      outline: none;
      cursor: pointer;
      font-size: 13px;
      font-weight: 600;
      letter-spacing: 0.04em;
      text-transform: uppercase;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      color: #e5e7eb;
      background: linear-gradient(135deg, #4f46e5, #6366f1, #0ea5e9);
      box-shadow: 0 16px 30px rgba(79, 70, 229, 0.95);
      position: relative;
      z-index: 1;
    }

    .btn-primary:disabled {
      opacity: 0.7;
      cursor: default;
      box-shadow: none;
    }

    .btn-glow-dot {
      width: 9px;
      height: 9px;
      border-radius: 999px;
      background: radial-gradient(circle, #bbf7d0, #22c55e);
      box-shadow: 0 0 12px rgba(74, 222, 128, 1);
    }

    .loading-spinner {
      width: 16px;
      height: 16px;
      border-radius: 999px;
      border: 2px solid rgba(226, 232, 240, 0.6);
      border-top-color: transparent;
      animation: spin 0.75s linear infinite;
    }

    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }

    .result-card {
      border-radius: 24px;
      background: radial-gradient(circle at top right, rgba(129, 140, 248, 0.32), rgba(15, 23, 42, 0.98));
      border: 1px solid rgba(148, 163, 184, 0.55);
      padding: 14px 14px 14px;
      margin-top: 12px;
      box-shadow: 0 18px 40px rgba(15, 23, 42, 0.95);
      min-height: 210px;
      position: relative;
      overflow: hidden;
    }

    .result-card::before {
      content: "";
      position: absolute;
      inset: -40%;
      background:
        radial-gradient(circle at 0% 0%, rgba(129, 140, 248, 0.32) 0, transparent 50%),
        radial-gradient(circle at 100% 0%, rgba(236, 72, 153, 0.24) 0, transparent 50%);
      mix-blend-mode: screen;
      opacity: 0.7;
      pointer-events: none;
    }

    .result-content {
      position: relative;
      z-index: 1;
      font-size: 12px;
      color: rgba(226, 232, 240, 0.96);
      display: grid;
      gap: 10px;
    }

    .result-section-title {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: rgba(199, 210, 254, 0.96);
      margin-bottom: 3px;
    }

    .result-block {
      padding: 8px 9px;
      border-radius: 14px;
      background: radial-gradient(circle at top left, rgba(15, 23, 42, 0.96), rgba(15, 23, 42, 0.98));
      border: 1px solid rgba(148, 163, 184, 0.6);
    }

    .badge-soft {
      display: inline-flex;
      align-items: center;
      gap: 5px;
      border-radius: 999px;
      padding: 3px 8px;
      font-size: 10px;
      background: rgba(15, 23, 42, 0.9);
      border: 1px solid rgba(129, 140, 248, 0.7);
      color: rgba(199, 210, 254, 0.98);
    }

    .badge-soft-dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: radial-gradient(circle, #a5b4fc, #4f46e5);
    }

    .routine-list {
      list-style: none;
      margin-top: 4px;
      display: grid;
      gap: 3px;
      padding-left: 0;
    }

    .routine-list li {
      display: flex;
      gap: 6px;
      align-items: flex-start;
    }

    .routine-bullet {
      margin-top: 4px;
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: radial-gradient(circle, #38bdf8, #0369a1);
    }

    .product-grid {
      margin-top: 6px;
      display: grid;
      gap: 6px;
    }

    .product-card {
      padding: 7px 8px;
      border-radius: 12px;
      background: radial-gradient(circle at top left, rgba(15, 23, 42, 1), rgba(15, 23, 42, 1));
      border: 1px solid rgba(148, 163, 184, 0.7);
      display: flex;
      justify-content: space-between;
      gap: 8px;
      align-items: center;
    }

    .product-main {
      display: flex;
      flex-direction: column;
      gap: 2px;
      font-size: 11px;
    }

    .product-name {
      font-weight: 600;
      color: rgba(226, 232, 240, 0.98);
    }

    .product-desc {
      color: rgba(148, 163, 184, 0.95);
    }

    .product-meta {
      font-size: 10px;
      color: rgba(129, 140, 248, 0.96);
    }

    .product-action {
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 4px;
    }

    .product-tag {
      font-size: 10px;
      padding: 2px 7px;
      border-radius: 999px;
      border: 1px solid rgba(129, 140, 248, 0.85);
      color: rgba(199, 210, 254, 1);
      background: rgba(15, 23, 42, 0.96);
    }

    .product-link-btn {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 8px;
      border-radius: 999px;
      border: none;
      background: linear-gradient(135deg, #4f46e5, #6366f1);
      color: #eef2ff;
      font-size: 10px;
      font-weight: 600;
      cursor: pointer;
      text-decoration: none;
      white-space: nowrap;
    }

    .product-link-btn span.icon {
      font-size: 11px;
    }

    .result-empty {
      font-size: 12px;
      color: rgba(148, 163, 184, 0.95);
      text-align: center;
      margin-top: 40px;
    }

    .footnote {
      margin-top: 6px;
      font-size: 10px;
      color: rgba(148, 163, 184, 0.95);
    }

    @media (max-width: 880px) {
      .app-shell {
        grid-template-columns: minmax(0, 1fr);
        border-radius: 24px;
      }

      .sidebar {
        border-right: none;
        border-bottom: 1px solid rgba(148, 163, 184, 0.32);
      }

      .hero-title {
        font-size: 22px;
      }
    }

    @media (max-width: 640px) {
      body {
        padding: 10px;
      }

      .app-shell {
        border-radius: 20px;
      }

      .sidebar, .main {
        padding: 16px;
      }

      .form-grid {
        grid-template-columns: minmax(0, 1fr);
      }
    }
  </style>
</head>
<body>
  <div class="app-shell">
    <!-- ì™¼ìª½: ì†Œê°œ / ì„¤ëª… ì˜ì—­ -->
    <aside class="sidebar">
      <div class="logo-row">
        <div class="logo-main">
          <div class="logo-icon">ğŸ’§</div>
          <div class="logo-text-main">
            <span>AI í”¼ë¶€ ì½”ì¹˜</span>
            <span class="logo-badge">Skin Routine &amp; Product Recommender</span>
          </div>
        </div>
        <div class="pill-beta">
          <span class="pill-dot"></span>
          LIVE BETA
        </div>
      </div>

      <h1 class="hero-title">
        ë‚´ í”¼ë¶€ì— ë§ëŠ” <span class="accent">ë£¨í‹´ &amp; ì œí’ˆ ì¶”ì²œ</span><br>
        5ì´ˆ ë§Œì— ë°›ì•„ë³´ê¸°
      </h1>
      <p class="hero-sub">
        í”¼ë¶€ íƒ€ì…, í˜„ì¬ ê³ ë¯¼, ì‚¬ìš©í•˜ëŠ” ì œí’ˆë§Œ ì ì–´ì£¼ë©´<br>
        AIê°€ <strong>í”¼ë¶€ ìƒíƒœ ì„¤ëª… â†’ ì•„ì¹¨Â·ì €ë… ë£¨í‹´ â†’ ì¿ íŒ¡ ì¶”ì²œ ë§í¬</strong>ê¹Œì§€ í•œ ë²ˆì— ë§Œë“¤ì–´ì¤˜ìš”.
      </p>

      <div class="hero-tags">
        <div class="tag-chip">
          <span class="tag-dot"></span>
          ê±´ì„± Â· ì§€ì„± Â· ë¯¼ê°ì„± Â· ë³µí•©ì„±
        </div>
        <div class="tag-chip">
          <span class="tag-dot"></span>
          ì—¬ë“œë¦„ Â· ëª¨ê³µ Â· í™ì¡° Â· ì¡í‹°
        </div>
        <div class="tag-chip">
          <span class="tag-dot"></span>
          ì¿ íŒ¡ íŒŒíŠ¸ë„ˆìŠ¤ ì—°ë™
        </div>
      </div>

      <div class="hero-metric-row">
        <div class="metric-card">
          <div class="metric-label">Daily Routine</div>
          <div class="metric-value">ë§ì¶¤ ë£¨í‹´ ìë™ ìƒì„±</div>
          <div class="metric-sub">ì•„ì¹¨ / ì €ë… / ì£¼ 1~2íšŒ ìŠ¤í˜ì…œì¼€ì–´</div>
        </div>
      </div>

      <div class="divider"></div>

      <div>
        <div class="section-title">ì‚¬ìš© ë°©ë²•</div>
        <ul class="tip-list">
          <li>
            <span class="tip-dot"></span>
            <span>í”¼ë¶€ íƒ€ì…ê³¼ í˜„ì¬ ê³ ë¯¼(ì˜ˆ: â€œí„± ì—¬ë“œë¦„â€, â€œì½” ëª¨ê³µâ€)ì„ ì„ íƒí•´ ì£¼ì„¸ìš”.</span>
          </li>
          <li>
            <span class="tip-dot"></span>
            <span>ì§€ê¸ˆ ì“°ëŠ” ì œí’ˆì´ë‚˜ ì˜ˆì‚°ëŒ€ë¥¼ ê°„ë‹¨íˆ ì ì–´ì£¼ë©´ ë” ì •í™•í•´ì ¸ìš”.</span>
          </li>
          <li>
            <span class="tip-dot"></span>
            <span>â€œë§ì¶¤ ë£¨í‹´ ë¶„ì„í•˜ê¸°â€ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ë£¨í‹´ê³¼ ì¿ íŒ¡ ì¶”ì²œì´ ìƒì„±ë©ë‹ˆë‹¤.</span>
          </li>
        </ul>
      </div>
    </aside>

    <!-- ì˜¤ë¥¸ìª½: ì…ë ¥ / ê²°ê³¼ ì˜ì—­ -->
    <main class="main">
      <!-- ì…ë ¥ ì¹´ë“œ -->
      <section class="form-card">
        <div class="form-header">
          <div class="form-title">
            ì˜¤ëŠ˜ í”¼ë¶€ ìƒíƒœ ì…ë ¥í•˜ê¸°
            <span class="form-title-badge">1ë¶„ì´ë©´ ì¶©ë¶„í•´ìš”</span>
          </div>
        </div>

        <form id="skin-form">
          <div class="form-grid">
            <div class="field">
              <label class="field-label">
                í”¼ë¶€ íƒ€ì…
                <span class="sub">ì˜ ëª¨ë¥´ê² ìœ¼ë©´ â€œëª¨ë¥´ê² ìŒâ€</span>
              </label>
              <select id="skin-type" required>
                <option value="ëª¨ë¥´ê² ìŒ">ëª¨ë¥´ê² ìŒ / ì²˜ìŒì´ì—ìš”</option>
                <option value="ê±´ì„±">ê±´ì„±</option>
                <option value="ì§€ì„±">ì§€ì„±</option>
                <option value="ë³µí•©ì„±">ë³µí•©ì„±</option>
                <option value="ë¯¼ê°ì„±">ë¯¼ê°ì„±</option>
                <option value="ì¤‘ì„±">ì¤‘ì„±</option>
              </select>
            </div>

            <div class="field">
              <label class="field-label">
                ì£¼ìš” ê³ ë¯¼
                <span class="sub">ë³µìˆ˜ ì„ íƒ ì‹œ ë©”ëª¨ì— ì ê¸°</span>
              </label>
              <select id="main-concern" required>
                <option value="ì—¬ë“œë¦„">ì—¬ë“œë¦„ / íŠ¸ëŸ¬ë¸”</option>
                <option value="ëª¨ê³µí”¼ë¶€ê²°">ëª¨ê³µ / í”¼ë¶€ê²° / ë¸”ë™í—¤ë“œ</option>
                <option value="í™ì¡°ë¯¼ê°">í™ì¡° / ë¯¼ê° / ë¶‰ìŒ</option>
                <option value="ì¡í‹°ìƒ‰ì†Œ">ì¡í‹° / ìƒ‰ì†Œì¹¨ì°© / ê¸°ë¯¸</option>
                <option value="ì£¼ë¦„íƒ„ë ¥">ì£¼ë¦„ / íƒ„ë ¥ / ë…¸í™”</option>
                <option value="ê±´ì¡°ê°ì§ˆ">ê±´ì¡° / ê°ì§ˆ / ë‹¹ê¹€</option>
              </select>
            </div>

            <div class="field">
              <label class="field-label">
                ë‚˜ì´ëŒ€
                <span class="sub">ì¶”ì²œ ì„±ë¶„ì´ ë‹¬ë¼ì ¸ìš”</span>
              </label>
              <select id="age-range">
                <option value="10ëŒ€">10ëŒ€</option>
                <option value="20ëŒ€" selected>20ëŒ€</option>
                <option value="30ëŒ€">30ëŒ€</option>
                <option value="40ëŒ€ ì´ìƒ">40ëŒ€ ì´ìƒ</option>
              </select>
            </div>

            <div class="field">
              <label class="field-label">
                ì˜ˆì‚°ê°
                <span class="sub">ëŒ€ëµì ì¸ ëŠë‚Œë§Œ</span>
              </label>
              <select id="budget-range">
                <option value="ê°€ì„±ë¹„">ê°€ì„±ë¹„ ìœ„ì£¼</option>
                <option value="ì¤‘ê°„ê°€ê²©">ì¤‘ê°„ ê°€ê²©ëŒ€</option>
                <option value="í”„ë¦¬ë¯¸ì—„">í”„ë¦¬ë¯¸ì—„ë„ ê´œì°®ì•„ìš”</option>
              </select>
            </div>

            <div class="field" style="grid-column: 1 / -1;">
              <label class="field-label">
                í˜„ì¬ ë£¨í‹´ / ì‚¬ìš© ì œí’ˆ / ì¶”ê°€ ê³ ë¯¼
                <span class="sub">ì˜ˆ: â€œì•„ì¹¨ì—” ë¬¼ì„¸ì•ˆë§Œ, ë°¤ì—” í¼í´+ìˆ˜ë¶„í¬ë¦¼â€</span>
              </label>
              <textarea id="extra-notes" placeholder="ì§€ê¸ˆ ì“°ëŠ” ì œí’ˆ, í”¼ë¶€ ìƒíƒœ, ê³„ì ˆ(ê²¨ìš¸/ì—¬ë¦„), ì•Œë ˆë¥´ê¸°, í•˜ê³  ì‹¶ì€ ì¼€ì–´ ë“±ì„ ììœ ë¡­ê²Œ ì ì–´ì£¼ì„¸ìš”."></textarea>
            </div>
          </div>

          <button type="submit" class="btn-primary" id="analyze-btn">
            <span class="btn-glow-dot" id="btn-dot"></span>
            <span id="btn-text">ë§ì¶¤ ë£¨í‹´ ë¶„ì„í•˜ê¸°</span>
          </button>
        </form>
      </section>

      <!-- ê²°ê³¼ ì¹´ë“œ -->
      <section class="result-card" id="result-card">
        <div class="result-content" id="result-content">
          <p class="result-empty">
            ì˜¤ë¥¸ìª½ì— ì˜¤ëŠ˜ í”¼ë¶€ ìƒíƒœë¥¼ ì…ë ¥í•˜ê³ <br>
            <strong>â€œë§ì¶¤ ë£¨í‹´ ë¶„ì„í•˜ê¸°â€</strong> ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.<br>
            AIê°€ <strong>í”¼ë¶€ ì„¤ëª… Â· ë£¨í‹´ Â· ì œí’ˆ ì¶”ì²œ</strong>ì„ ë§Œë“¤ì–´ ë“œë¦½ë‹ˆë‹¤.
          </p>
        </div>
        <p class="footnote">
          â€» ì´ ì„œë¹„ìŠ¤ëŠ” ì˜í•™ì  ì§„ë‹¨ì´ ì•„ë‹Œ <strong>ì¼ìƒ ê´€ë¦¬ìš© ê°€ì´ë“œ</strong>ì…ë‹ˆë‹¤. ì‹¬í•œ í†µì¦Â·ì—¼ì¦ì€ ë°˜ë“œì‹œ í”¼ë¶€ê³¼ ì „ë¬¸ì˜ì™€ ìƒë‹´í•˜ì„¸ìš”.
        </p>
      </section>
    </main>
  </div>

  <script>
    // âœ… ì¿ íŒ¡ íŒŒíŠ¸ë„ˆìŠ¤ìš© ë§í¬ ìƒì„± í•¨ìˆ˜
    function createCoupangLink(keyword) {
      const encodedKeyword = encodeURIComponent(keyword);
      const searchUrl = `https://www.coupang.com/np/search?q=${encodedKeyword}`;
      const partnerCode = "YOUR_PARTNERS_CODE"; // ğŸ‘‰ ì—¬ê¸° ë„¤ ì¿ íŒ¡ íŒŒíŠ¸ë„ˆìŠ¤ ì½”ë“œë¡œ êµì²´

      return `https://link.coupang.com/a/${partnerCode}?targetUrl=${encodeURIComponent(searchUrl)}`;
    }

    // âœ… í”¼ë¶€ ê³ ë¯¼ì— ë”°ë¼ ê¸°ë³¸ ì¶”ì²œ ì œí’ˆ ì„¸íŠ¸
    function getProductRecommendations(concern, budget) {
      const base = [];

      if (concern === "ì—¬ë“œë¦„") {
        base.push(
          {
            name: "BHA í† ë„ˆ (ì‚´ë¦¬ì‹¤ì‚°)",
            desc: "ëª¨ê³µ ì† ê°ì§ˆ ì •ë¦¬ + ë§‰íŒ í”¼ì§€ ì¼€ì–´ìš© í† ë„ˆ",
            tag: "ê°ì§ˆÂ·í”¼ì§€ ì¼€ì–´"
          },
          {
            name: "ë…¼ì½”ë©”ë„ì œë‹‰ ìˆ˜ë¶„í¬ë¦¼",
            desc: "ìœ ë¶„ì€ ì ê³  ìˆ˜ë¶„ë§Œ ì±„ì›Œì£¼ëŠ” ê°€ë²¼ìš´ ì ¤ í¬ë¦¼",
            tag: "ì—¬ë“œë¦„ í”¼ë¶€ìš©"
          },
          {
            name: "ìŠ¤íŒŸ íŒ¨ì¹˜",
            desc: "ì§œì§€ ì•Šê³  ë¶™ì—¬ì„œ ì§„ì •ì‹œí‚¤ëŠ” êµ­ì†Œ íŒ¨ì¹˜",
            tag: "ì‘ê¸‰ íŠ¸ëŸ¬ë¸”"
          }
        );
      } else if (concern === "ëª¨ê³µí”¼ë¶€ê²°") {
        base.push(
          {
            name: "AHA í•„ë§ í† ë„ˆ",
            desc: "ê±°ì¹œ í”¼ë¶€ê²°ê³¼ ë¬µì€ ê°ì§ˆì„ ë¶€ë“œëŸ½ê²Œ ì •ë¦¬",
            tag: "í”¼ë¶€ê²° ê°œì„ "
          },
          {
            name: "ëª¨ê³µ ìˆ˜ì¶• í† ë„ˆ / ì—ì„¼ìŠ¤",
            desc: "ëª¨ê³µ ì£¼ë³€ í”¼ì§€ë¥¼ ì •ë¦¬í•˜ê³  íƒ„ë ¥ê° ë¶€ì—¬",
            tag: "ëª¨ê³µ ì¼€ì–´"
          },
          {
            name: "ê°€ë²¼ìš´ ì ¤ í¬ë¦¼",
            desc: "ë²ˆë“¤ê±°ë¦¼ ì ì€ ë°ì¼ë¦¬ ë³´ìŠµìš©",
            tag: "ì§€Â·ë³µí•©ì„± ì¶”ì²œ"
          }
        );
      } else if (concern === "í™ì¡°ë¯¼ê°") {
        base.push(
          {
            name: "ì„¼í…”ë¼(ì‹œì¹´) ì§„ì • í† ë„ˆ",
            desc: "ì—´ê°ê³¼ ë¶‰ì€ê¸°ë¥¼ ì§„ì •ì‹œí‚¤ëŠ” í† ë„ˆ",
            tag: "ì§„ì • ì¼€ì–´"
          },
          {
            name: "ë¬´í–¥Â·ì €ìê·¹ ìˆ˜ë¶„í¬ë¦¼",
            desc: "ë¯¼ê° í”¼ë¶€ìš© ìµœì†Œ ì„±ë¶„ í¬ë¦¼",
            tag: "ë¯¼ê°ì„± ì „ìš©"
          },
          {
            name: "ë¬¼ë¦¬ì  ìŠ¤í¬ëŸ½ ì œì™¸ í´ë Œì €",
            desc: "ìê·¹ ìµœì†Œí™” ì•½ì‚°ì„± ì ¤/í¼",
            tag: "ì•½ì‚°ì„± í´ë Œì €"
          }
        );
      } else if (concern === "ì¡í‹°ìƒ‰ì†Œ") {
        base.push(
          {
            name: "ë¹„íƒ€ë¯¼C ì„¸ëŸ¼",
            desc: "í†¤ì—… + ì¡í‹°Â·ê¸°ë¯¸ ì™„í™”ì— ë„ì›€",
            tag: "í†¤ì—… ì¼€ì–´"
          },
          {
            name: "ë‚˜ì´ì•„ì‹ ì•„ë§ˆì´ë“œ ì—ì„¼ìŠ¤",
            desc: "í”¼ë¶€í†¤ ê· ì¼í™” + í”¼ì§€ ì¡°ì ˆ ì„œí¬íŠ¸",
            tag: "ë¯¸ë°± ì„±ë¶„"
          },
          {
            name: "ê³ ë³´ìŠµ ì„ í¬ë¦¼",
            desc: "ìì™¸ì„  ì°¨ë‹¨ì´ ìƒ‰ì†Œ ê´€ë¦¬ì˜ í•µì‹¬",
            tag: "ìì™¸ì„  ì°¨ë‹¨"
          }
        );
      } else if (concern === "ì£¼ë¦„íƒ„ë ¥") {
        base.push(
          {
            name: "ë ˆí‹°ë†€ / ë ˆí‹°ë‚  ì„¸ëŸ¼",
            desc: "ì£¼ë¦„Â·íƒ„ë ¥ ê´€ë¦¬ì— ëŒ€í‘œì ì¸ ì„±ë¶„ (ì €ë†ë„ë¶€í„° ì‹œì‘)",
            tag: "íƒ„ë ¥Â·ì•ˆí‹°ì—ì´ì§•"
          },
          {
            name: "í©íƒ€ì´ë“œ í¬ë¦¼",
            desc: "íƒ„ë ¥ê°ê³¼ ë³´ìŠµì„ ë™ì‹œì— ì±™ê¸°ëŠ” í¬ë¦¼",
            tag: "íƒ„ë ¥ í¬ë¦¼"
          },
          {
            name: "ìˆ˜ë¶„ ì§„ì • ë§ˆìŠ¤í¬",
            desc: "ì£¼ 1~2íšŒ ì§‘ì¤‘ ë³´ìŠµ ì¼€ì–´",
            tag: "ì§‘ì¤‘ ì¼€ì–´"
          }
        );
      } else if (concern === "ê±´ì¡°ê°ì§ˆ") {
        base.push(
          {
            name: "ì €ìê·¹ ìˆ˜ë¶„ í† ë„ˆ",
            desc: "ë ˆì´ì–´ë§í•˜ê¸° ì¢‹ì€ ì›Œí„°/ì—ì„¼ìŠ¤ í† ë„ˆ",
            tag: "ìˆ˜ë¶„ ë ˆì´ì–´ë§"
          },
          {
            name: "ì„¸ë¼ë§ˆì´ë“œÂ·ì‹œì–´ë²„í„° í¬ë¦¼",
            desc: "ë³´ìŠµë§‰ì„ ë§Œë“¤ì–´ì£¼ëŠ” ë“ ë“ í•œ í¬ë¦¼",
            tag: "ì¥ë²½ ê°•í™”"
          },
          {
            name: "ë°¤ íƒ€ì… ìŠ¬ë¦¬í•‘íŒ©",
            desc: "ë°¤ ì‚¬ì´ ìˆ˜ë¶„ ì¦ë°œì„ ë§‰ì•„ì£¼ëŠ” ì˜¤ë²„ë‚˜ì´íŠ¸ íŒ©",
            tag: "ë‚˜ì´íŠ¸ ì¼€ì–´"
          }
        );
      }

      // ì˜ˆì‚°ì— ë§ì¶° ë¬¸êµ¬ë§Œ ì‚´ì§ ë‹¤ë¥´ê²Œ (ì‹¤ì œ ìƒí’ˆ ì„ íƒì€ ì¿ íŒ¡ ê²€ìƒ‰ìœ¼ë¡œ ê°ë‹¹)
      return base.map(p => ({
        ...p,
        meta:
          budget === "ê°€ì„±ë¹„"
            ? "ê°€ì„±ë¹„ ê´œì°®ì€ ì œí’ˆ ìœ„ì£¼ë¡œ ì¿ íŒ¡ì—ì„œ ê³¨ë¼ë³´ì„¸ìš”."
            : budget === "ì¤‘ê°„ê°€ê²©"
            ? "ë¦¬ë·° ì¢‹ì€ ì¤‘ê°„ ê°€ê²©ëŒ€ ì œí’ˆì„ ìœ„ì£¼ë¡œ ì‚´í´ë³´ë©´ ì¢‹ì•„ìš”."
            : "ì„±ë¶„Â·ì œí˜•ì´ ë§ˆìŒì— ë“¤ë©´ í”„ë¦¬ë¯¸ì—„ ë¼ì¸ë„ í•œë‘ ê°œ ì„ì–´ë„ ê´œì°®ìŠµë‹ˆë‹¤."
      }));
    }

    // âœ… í”¼ë¶€ íƒ€ì…/ê³ ë¯¼ â†’ ìƒíƒœ ì„¤ëª… & ë£¨í‹´ ìƒì„±
    function buildRoutine({ skinType, concern, age, notes }) {
      const summaryParts = [];

      // í”¼ë¶€ íƒ€ì… ì„¤ëª…
      if (skinType === "ê±´ì„±") {
        summaryParts.push("í”¼ë¶€ê°€ ì „ë°˜ì ìœ¼ë¡œ ë•…ê¸°ê±°ë‚˜, ì„¸ì•ˆ í›„ ë°”ë¡œ ê±´ì¡°í•´ì§€ëŠ” ê²½í–¥ì´ ìˆëŠ” ê±´ì„± íƒ€ì…ìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤.");
      } else if (skinType === "ì§€ì„±") {
        summaryParts.push("Tì¡´ ë²ˆë“¤ê±°ë¦¼ì´ ë‘ë“œëŸ¬ì§€ëŠ” ì§€ì„± íƒ€ì…ìœ¼ë¡œ, í”¼ì§€ ê´€ë¦¬ì™€ ê°€ë²¼ìš´ ë³´ìŠµì˜ ë°¸ëŸ°ìŠ¤ê°€ ì¤‘ìš”í•©ë‹ˆë‹¤.");
      } else if (skinType === "ë³µí•©ì„±") {
        summaryParts.push("ë¶€ë¶„ì ìœ¼ë¡œëŠ” ê±´ì¡°, ë¶€ë¶„ì ìœ¼ë¡œëŠ” ë²ˆë“¤ê±°ë¦¬ëŠ” ë³µí•©ì„± íƒ€ì…ìœ¼ë¡œ, ë¶€ìœ„ë³„ë¡œ ë‹¤ë¥¸ ì¼€ì–´ê°€ ë„ì›€ì´ ë©ë‹ˆë‹¤.");
      } else if (skinType === "ë¯¼ê°ì„±") {
        summaryParts.push("ìê·¹ì— ì˜ˆë¯¼í•˜ê²Œ ë°˜ì‘í•˜ëŠ” ë¯¼ê°ì„± í”¼ë¶€ì¼ ê°€ëŠ¥ì„±ì´ ìˆì–´, ì„±ë¶„ ìˆ˜ê°€ ë‹¨ìˆœí•˜ê³  ì €ìê·¹ì¸ ì œí’ˆ ìœ„ì£¼ë¡œ ë£¨í‹´ì„ êµ¬ì„±í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.");
      } else if (skinType === "ì¤‘ì„±") {
        summaryParts.push("ìœ ìˆ˜ë¶„ ë°¸ëŸ°ìŠ¤ê°€ ë¹„êµì  ì•ˆì •ì ì¸ ì¤‘ì„± í”¼ë¶€ë¡œ, ê¸°ë³¸ ë£¨í‹´ë§Œ ì˜ ìœ ì§€í•´ë„ ì»¨ë””ì…˜ ìœ ì§€ì— ìœ ë¦¬í•©ë‹ˆë‹¤.");
      } else {
        summaryParts.push("ì…ë ¥ëœ ì •ë³´ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í”¼ë¶€ íƒ€ì…ì„ ì¶”ì •í•´ ê¸°ë³¸ ë£¨í‹´ì„ ì œì•ˆí• ê²Œìš”. ì‹¤ì œ í”¼ë¶€ ë°˜ì‘ì„ ë³´ë©´ì„œ ì²œì²œíˆ ì¡°ì •í•´ ì£¼ì„¸ìš”.");
      }

      // ê³ ë¯¼ ì„¤ëª…
      let concernText = "";
      if (concern === "ì—¬ë“œë¦„") {
        concernText = "í˜„ì¬ ì—¬ë“œë¦„Â·íŠ¸ëŸ¬ë¸”ì´ ê°€ì¥ í° ê³ ë¯¼ì´ë¼ë©´, 'ìê·¹ì„ ì¤„ì´ë©´ì„œ ë§‰íŒ í”¼ì§€ì™€ ì—¼ì¦ì„ ê´€ë¦¬í•˜ëŠ” ê²ƒ'ì´ í•µì‹¬ì…ë‹ˆë‹¤.";
      } else if (concern === "ëª¨ê³µí”¼ë¶€ê²°") {
        concernText = "ëª¨ê³µÂ·í”¼ë¶€ê²°ì´ ê³ ë¯¼ì´ë¼ë©´, ê³¼í•œ í”¼ì§€ì™€ ê°ì§ˆì„ ì¡°ì ˆí•˜ë©´ì„œ ìˆ˜ë¶„ì€ ìœ ì§€í•˜ëŠ” ë£¨í‹´ì´ ì¤‘ìš”í•©ë‹ˆë‹¤.";
      } else if (concern === "í™ì¡°ë¯¼ê°") {
        concernText = "í™ì¡°Â·ë¯¼ê°ì´ ì£¼ ê³ ë¯¼ì´ë¼ë©´, ì—´ê°Â·ìê·¹ì„ ìœ ë°œí•˜ëŠ” ì„±ë¶„ì„ ì¤„ì´ê³  ì§„ì •Â·ë³´ìŠµ ìœ„ì£¼ë¡œ ë‹¨ìˆœí•œ ë£¨í‹´ì„ ê°€ì ¸ê°€ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.";
      } else if (concern === "ì¡í‹°ìƒ‰ì†Œ") {
        concernText = "ì¡í‹°Â·ìƒ‰ì†Œì¹¨ì°©ì´ ê±±ì •ëœë‹¤ë©´, ìì™¸ì„  ì°¨ë‹¨ì„ ìµœìš°ì„ ìœ¼ë¡œ í•˜ë©´ì„œ ë¯¸ë°±Â·í†¤ì—… ì„±ë¶„ì„ ê¾¸ì¤€íˆ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ í•µì‹¬ì…ë‹ˆë‹¤.";
      } else if (concern === "ì£¼ë¦„íƒ„ë ¥") {
        concernText = "ì£¼ë¦„Â·íƒ„ë ¥ ê´€ë¦¬ê°€ ëª©í‘œë¼ë©´, ë ˆí‹°ë†€/ë ˆí‹°ë‚ Â·í©íƒ€ì´ë“œÂ·ë³´ìŠµ ì„±ë¶„ì„ ê¾¸ì¤€íˆ ì‚¬ìš©í•˜ë©´ì„œ ìì™¸ì„  ì°¨ë‹¨ì„ ë³‘í–‰í•´ì•¼ í•©ë‹ˆë‹¤.";
      } else if (concern === "ê±´ì¡°ê°ì§ˆ") {
        concernText = "ê±´ì¡°Â·ê°ì§ˆì´ ì‹¬í•˜ë‹¤ë©´, ì„¸ì•ˆë¶€í„° ë„ˆë¬´ ìê·¹ì ì´ì§€ ì•Šê²Œ ì¡°ì ˆí•˜ê³ , ìˆ˜ë¶„Â·ìœ ë¶„ ë ˆì´ì–´ë§ìœ¼ë¡œ ì¥ë²½ì„ íšŒë³µí•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.";
      }
      summaryParts.push(concernText);

      // ë‚˜ì´ëŒ€ ì„¤ëª…
      if (age === "10ëŒ€") {
        summaryParts.push("10ëŒ€ë¼ë©´ ê³¼í•œ ì„±ì¸ìš© ì•ˆí‹°ì—ì´ì§• ì œí’ˆë³´ë‹¤ëŠ”, ìê·¹ ì ì€ ê¸°ë³¸ ì¼€ì–´ + ì—¬ë“œë¦„Â·í”¼ì§€ ê´€ë¦¬ì— ì§‘ì¤‘í•˜ëŠ” ê±¸ ê¶Œì¥í•©ë‹ˆë‹¤.");
      } else if (age === "20ëŒ€") {
        summaryParts.push("20ëŒ€ì—ëŠ” í”¼ë¶€ì¥ë²½Â·ìˆ˜ë¶„ ê´€ë¦¬ì™€ í•¨ê»˜, ì—¬ë“œë¦„Â·ëª¨ê³µÂ·ì´ˆê¸° ìƒ‰ì†ŒÂ·ë¯¸ì„¸ ì£¼ë¦„ì— ë¯¸ë¦¬ ëŒ€ë¹„í•´ ë‘ë©´ ì¢‹ìŠµë‹ˆë‹¤.");
      } else if (age === "30ëŒ€") {
        summaryParts.push("30ëŒ€ë¶€í„°ëŠ” ìˆ˜ë¶„Â·íƒ„ë ¥ ì €í•˜ê°€ ì„œì„œíˆ ì‹œì‘ë˜ë‹ˆ, ë³´ìŠµÂ·íƒ„ë ¥Â·ë¯¸ë°±ì„ í•¨ê»˜ ê´€ë¦¬í•˜ëŠ” ë£¨í‹´ì´ ë„ì›€ì´ ë©ë‹ˆë‹¤.");
      } else if (age === "40ëŒ€ ì´ìƒ") {
        summaryParts.push("40ëŒ€ ì´í›„ì—ëŠ” íƒ„ë ¥Â·ì£¼ë¦„Â·ìƒ‰ì†Œë¥¼ ë™ì‹œì— ê´€ë¦¬í•´ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ë§ì•„, ë°¤ì—ëŠ” ì¡°ê¸ˆ ë” ì˜ì–‘ê° ìˆëŠ” ë£¨í‹´ì„ í™œìš©í•´ë„ ì¢‹ìŠµë‹ˆë‹¤.");
      }

      const morningRoutine = [];
      const nightRoutine = [];
      const specialCare = [];

      // ì•„ì¹¨ ë£¨í‹´ (ê¸°ë³¸)
      morningRoutine.push("(ì„ íƒ) ë¯¸ì˜¨ìˆ˜ ì„¸ì•ˆ ë˜ëŠ” ì•½ì‚°ì„± í¼í´ë Œì €ë¡œ ê°€ë³ê²Œ ì„¸ì•ˆ");
      morningRoutine.push("ì§„ì •Â·ìˆ˜ë¶„ í† ë„ˆ ë˜ëŠ” ì—ì„¼ìŠ¤ 1~3íšŒ ë ˆì´ì–´ë§");
      if (concern === "ì¡í‹°ìƒ‰ì†Œ" || concern === "ì£¼ë¦„íƒ„ë ¥") {
        morningRoutine.push("ë¹„íƒ€ë¯¼C ë˜ëŠ” ë‚˜ì´ì•„ì‹ ì•„ë§ˆì´ë“œ ì„¸ëŸ¼ (ìê·¹ ì—†ìœ¼ë©´ ë§¤ì¼ ì‚¬ìš©)");
      }
      morningRoutine.push("í”¼ë¶€ íƒ€ì…ì— ë§ëŠ” ìˆ˜ë¶„í¬ë¦¼ ë˜ëŠ” ì ¤ í¬ë¦¼");
      morningRoutine.push("SPF 30~50+ ì„ í¬ë¦¼ (ì™¸ì¶œ 20~30ë¶„ ì „ ì¶©ë¶„í•œ ì–‘ ë„í¬)");

      // ë°¤ ë£¨í‹´ (ê¸°ë³¸)
      nightRoutine.push("ë©”ì´í¬ì—…Â·ì„ í¬ë¦¼ ì‚¬ìš© ì‹œ: í´ë Œì§• ì˜¤ì¼/ë°¤ + ì•½ì‚°ì„± í¼ìœ¼ë¡œ 2ì¤‘ ì„¸ì•ˆ");
      nightRoutine.push("ì§„ì •Â·ìˆ˜ë¶„ í† ë„ˆë¡œ í”¼ë¶€ pHÂ·ìˆ˜ë¶„ ë°¸ëŸ°ìŠ¤ ì •ë¦¬");
      if (concern === "ì—¬ë“œë¦„") {
        nightRoutine.push("BHA/AHA í† ë„ˆ ë˜ëŠ” ì—¬ë“œë¦„ ì¼€ì–´ ì„¸ëŸ¼ (ì£¼ 2~3íšŒ â†’ ì ì‘ë˜ë©´ íšŸìˆ˜ ì¡°ì ˆ)");
      } else if (concern === "ëª¨ê³µí”¼ë¶€ê²°") {
        nightRoutine.push("í”¼ë¶€ê²° ê°œì„ ìš© í† ë„ˆ/ì„¸ëŸ¼ (AHAÂ·PHAÂ·ë‚˜ì´ì•„ì‹ ì•„ë§ˆì´ë“œ ë“±, ìê·¹ ì—†ëŠ” ì„ ì—ì„œ)");
      } else if (concern === "í™ì¡°ë¯¼ê°") {
        nightRoutine.push("ì„¼í…”ë¼Â·ì•Œë€í† ì¸Â·íŒí…Œë†€ ë“± ì§„ì • ì„±ë¶„ ìœ„ì£¼ì˜ ì—ì„¼ìŠ¤");
      } else if (concern === "ì£¼ë¦„íƒ„ë ¥") {
        nightRoutine.push("ë ˆí‹°ë†€/ë ˆí‹°ë‚  ì„¸ëŸ¼ (ì£¼ 2íšŒ ì •ë„ ì†ŒëŸ‰ â†’ ì ì‘ í›„ íšŸìˆ˜Â·ì–‘ ì„œì„œíˆ ì¦ê°€)");
      } else if (concern === "ê±´ì¡°ê°ì§ˆ") {
        nightRoutine.push("ì„¸ë¼ë§ˆì´ë“œÂ·ì½œë ˆìŠ¤í…Œë¡¤Â·ì§€ì§ˆ ì„±ë¶„ì´ ë“¤ì–´ê°„ ì¥ë²½ ê°•í™” í¬ë¦¼ ë„‰ë„‰íˆ ë°”ë¥´ê¸°");
      }
      nightRoutine.push("í”¼ë¶€ ìƒíƒœì— ë”°ë¼ ìŠ¬ë¦¬í•‘íŒ© ë˜ëŠ” ì˜¤ì¼ í•œë‘ ë°©ìš¸ë¡œ ë§ˆë¬´ë¦¬");

      // ìŠ¤í˜ì…œ ì¼€ì–´
      if (concern === "ì—¬ë“œë¦„") {
        specialCare.push("í° ì—¼ì¦ì„± ì—¬ë“œë¦„ì€ ì§œì§€ ë§ê³  ìŠ¤íŒŸ íŒ¨ì¹˜Â·ì—°ê³  ìœ„ì£¼ë¡œ ê´€ë¦¬");
        specialCare.push("ìƒˆë¡œ ë°”ë¥´ëŠ” ì„±ë¶„ì€ í•­ìƒ ì–¼êµ´ ì „ì²´ê°€ ì•„ë‹Œ, í„±Â·ë³¼ ë“± ì¼ë¶€ ë¶€ìœ„ì— ë¨¼ì € í…ŒìŠ¤íŠ¸ í›„ ì „ì²´ ì‚¬ìš©");
      } else if (concern === "ëª¨ê³µí”¼ë¶€ê²°") {
        specialCare.push("ì£¼ 1íšŒ ì •ë„, ê°ì§ˆ ì œê±° ì œí’ˆ(AHA/BHA)ì„ ì‚¬ìš©í•˜ëŠ” ë‚ ì€ ë‹¤ë¥¸ ê°•í•œ ì„¸ëŸ¼ì€ ì‰¬ì–´ì£¼ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.");
      } else if (concern === "í™ì¡°ë¯¼ê°") {
        specialCare.push("ê°•í•œ í•„ë§, ìŠ¤í¬ëŸ½, ëœ¨ê±°ìš´ ë¬¼ ì„¸ì•ˆ, ì‚¬ìš°ë‚˜ëŠ” ê°€ëŠ¥í•˜ë©´ í”¼í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.");
      } else if (concern === "ì¡í‹°ìƒ‰ì†Œ") {
        specialCare.push("ìì™¸ì„ ì´ ê°•í•œ ë‚ ì—ëŠ” ì„ í¬ë¦¼ ë§ë°”ë¥´ê¸° + ëª¨ìÂ·ì–‘ì‚° ì‚¬ìš©ê¹Œì§€ í•¨ê»˜ í•´ì£¼ë©´ ìƒ‰ì†Œ ê´€ë¦¬ì— í° ë„ì›€ì´ ë©ë‹ˆë‹¤.");
      } else if (concern === "ì£¼ë¦„íƒ„ë ¥") {
        specialCare.push("ë ˆí‹°ë†€ ì‚¬ìš© ë‚ ì—ëŠ” í•„ë§Â·ë¯¸ë°±Â·ê°ì§ˆ ì œí’ˆ ì‚¬ìš©ì„ ì¤„ì´ê³ , ì§„ì •Â·ë³´ìŠµì— ì§‘ì¤‘í•˜ì„¸ìš”.");
      } else if (concern === "ê±´ì¡°ê°ì§ˆ") {
        specialCare.push("ìƒ¤ì›Œ ì§í›„ 3ë¶„ ì´ë‚´ì— ì–¼êµ´Â·ëª¸ì— ë³´ìŠµì œë¥¼ ë„‰ë„‰í•˜ê²Œ ë°”ë¥´ëŠ” ìŠµê´€ì„ ë“¤ì´ë©´ ë„ì›€ì´ í½ë‹ˆë‹¤.");
      }

      if (notes && notes.trim().length > 0) {
        summaryParts.push(`ì¶”ê°€ë¡œ ì ì–´ì£¼ì‹  ë‚´ìš©(â€œ${notes.slice(0, 40)}...â€)ë„ ë°˜ì˜í•´ì„œ, ë„ˆë¬´ ê³¼í•œ ë£¨í‹´ë³´ë‹¤ëŠ” í˜„ì‹¤ì ìœ¼ë¡œ ê¾¸ì¤€íˆ ê°€ëŠ¥í•œ ë°©í–¥ìœ¼ë¡œ ì œì•ˆí–ˆìŠµë‹ˆë‹¤.`);
      }

      return {
        summary: summaryParts.join(" "),
        morningRoutine,
        nightRoutine,
        specialCare
      };
    }

    // âœ… DOM ì—°ê²° & ì´ë²¤íŠ¸
    const form = document.getElementById("skin-form");
    const analyzeBtn = document.getElementById("analyze-btn");
    const btnText = document.getElementById("btn-text");
    const btnDot = document.getElementById("btn-dot");
    const resultContent = document.getElementById("result-content");

    form.addEventListener("submit", (e) => {
      e.preventDefault();
      runAnalysis();
    });

    function setLoading(isLoading) {
      if (isLoading) {
        analyzeBtn.disabled = true;
        btnText.textContent = "ë¶„ì„ ì¤‘...";
        btnDot.classList.add("hidden");

        // ë¡œë”© ìŠ¤í”¼ë„ˆ í‘œì‹œ
        if (!analyzeBtn.querySelector(".loading-spinner")) {
          const spinner = document.createElement("div");
          spinner.className = "loading-spinner";
          spinner.id = "loading-spinner";
          analyzeBtn.insertBefore(spinner, analyzeBtn.firstChild);
        }
      } else {
        analyzeBtn.disabled = false;
        btnText.textContent = "ë§ì¶¤ ë£¨í‹´ ë¶„ì„í•˜ê¸°";
        const spinner = document.getElementById("loading-spinner");
        if (spinner) spinner.remove();
      }
    }

    function runAnalysis() {
      const skinType = document.getElementById("skin-type").value;
      const mainConcern = document.getElementById("main-concern").value;
      const ageRange = document.getElementById("age-range").value;
      const budgetRange = document.getElementById("budget-range").value;
      const extraNotes = document.getElementById("extra-notes").value.trim();

      setLoading(true);

      // ë¡œì»¬ì—ì„œ ë°”ë¡œ ë¶„ì„í•˜ëŠ” ë²„ì „ (ë°±ì—”ë“œ ì—†ì´ë„ ë™ì‘í•˜ëŠ” MVP)
      setTimeout(() => {
        const routine = buildRoutine({
          skinType,
          concern: mainConcern,
          age: ageRange,
          notes: extraNotes
        });

        const products = getProductRecommendations(mainConcern, budgetRange);

        renderResult({ routine, products, budget: budgetRange });
        setLoading(false);
      }, 350);
    }

    function renderResult({ routine, products, budget }) {
      resultContent.innerHTML = "";

      const wrap = document.createElement("div");
      wrap.className = "result-inner";

      // 1) í”¼ë¶€ ìƒíƒœ ìš”ì•½
      const summaryBlock = document.createElement("div");
      summaryBlock.className = "result-block";
      summaryBlock.innerHTML = `
        <div class="result-section-title">í”¼ë¶€ ìƒíƒœ ìš”ì•½</div>
        <div style="font-size:12px; line-height:1.6; color:rgba(226,232,240,0.96);">
          ${routine.summary}
        </div>
      `;

      // 2) ë£¨í‹´
      const routineBlock = document.createElement("div");
      routineBlock.className = "result-block";
      const morningList = routine.morningRoutine
        .map(item => `
          <li>
            <span class="routine-bullet"></span>
            <span>${item}</span>
          </li>
        `)
        .join("");
      const nightList = routine.nightRoutine
        .map(item => `
          <li>
            <span class="routine-bullet"></span>
            <span>${item}</span>
          </li>
        `)
        .join("");

      const specialList = routine.specialCare
        .map(item => `
          <li>
            <span class="routine-bullet"></span>
            <span>${item}</span>
          </li>
        `)
        .join("");

      routineBlock.innerHTML = `
        <div class="result-section-title">ì¶”ì²œ ë£¨í‹´</div>
        <div style="display:grid; gap:8px; font-size:12px;">
          <div>
            <span class="badge-soft">
              <span class="badge-soft-dot"></span>
              ì•„ì¹¨ ë£¨í‹´
            </span>
            <ul class="routine-list">${morningList}</ul>
          </div>
          <div>
            <span class="badge-soft">
              <span class="badge-soft-dot"></span>
              ì €ë… ë£¨í‹´
            </span>
            <ul class="routine-list">${nightList}</ul>
          </div>
          ${
            specialList
              ? `<div>
                  <span class="badge-soft">
                    <span class="badge-soft-dot"></span>
                    ì£¼ 1~2íšŒ ìŠ¤í˜ì…œ ì¼€ì–´ íŒ
                  </span>
                  <ul class="routine-list">${specialList}</ul>
                </div>`
              : ""
          }
        </div>
      `;

      // 3) ì œí’ˆ ì¶”ì²œ + ì¿ íŒ¡ ë§í¬
      const productBlock = document.createElement("div");
      productBlock.className = "result-block";

      const productCards = products
        .map((p) => {
          const link = createCoupangLink(p.name);
          return `
            <div class="product-card">
              <div class="product-main">
                <div class="product-name">${p.name}</div>
                <div class="product-desc">${p.desc}</div>
                <div class="product-meta">${p.meta}</div>
              </div>
              <div class="product-action">
                <div class="product-tag">${p.tag}</div>
                <a href="${link}" target="_blank" rel="noopener noreferrer" class="product-link-btn">
                  <span class="icon">ğŸ›’</span>
                  <span>ì¿ íŒ¡ì—ì„œ ë³´ê¸°</span>
                </a>
              </div>
            </div>
          `;
        })
        .join("");

      const budgetText =
        budget === "ê°€ì„±ë¹„"
          ? "ê°€ì„±ë¹„ ì¢‹ì€ ì œí’ˆ ìœ„ì£¼ë¡œ ì¿ íŒ¡ ê²€ìƒ‰ ë§í¬ë¥¼ ì—°ê²°í•´ ë‘ì—ˆì–´ìš”."
          : budget === "ì¤‘ê°„ê°€ê²©"
          ? "ë¦¬ë·°Â·ì„±ë¶„Â·ê°€ê²©ì„ í•¨ê»˜ ê³ ë ¤í•´ì„œ ì¤‘ê°„ ê°€ê²©ëŒ€ ì œí’ˆì„ ê³¨ë¼ë³´ì„¸ìš”."
          : "ì„±ë¶„Â·ë¦¬ë·°ë¥¼ ì˜ ì‚´í´ë³´ê³ , í•„ìš”í•˜ë‹¤ë©´ í”„ë¦¬ë¯¸ì—„ ë¼ì¸ë„ í…ŒìŠ¤íŠ¸í•´ ë³´ì„¸ìš”.";

      productBlock.innerHTML = `
        <div class="result-section-title">ì¶”ì²œ ì„±ë¶„ &amp; ì œí’ˆ (ì¿ íŒ¡ ì—°ë™)</div>
        <div style="font-size:12px; color:rgba(226,232,240,0.96); margin-bottom:4px;">
          ê° ì¹´ë“œì˜ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ í•´ë‹¹ í‚¤ì›Œë“œë¡œ ì¿ íŒ¡ ê²€ìƒ‰ì´ ì—´ë¦½ë‹ˆë‹¤. ë³¸ì¸ ì˜ˆì‚°ê³¼ ì„ í˜¸ ë¸Œëœë“œì— ë§ì¶° ê³¨ë¼ ì‚¬ìš©í•´ ì£¼ì„¸ìš”.
        </div>
        <div class="product-grid">
          ${productCards}
        </div>
        <div style="margin-top:4px; font-size:11px; color:rgba(148,163,184,0.95);">
          â–¸ ${budgetText}
        </div>
      `;

      wrap.appendChild(summaryBlock);
      wrap.appendChild(routineBlock);
      wrap.appendChild(productBlock);

      resultContent.appendChild(wrap);
    }
  </script>
</body>
</html>
