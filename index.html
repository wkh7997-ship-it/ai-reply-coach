<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AI í”¼ë¶€ ì½”ì¹˜</title>
  <style>
    :root {
      --primary: #9b8bff;
      --primary-strong: #5c6bff;
      --bg-deep: #050616;
      --bg-top: #11152b;
      --glass: rgba(9, 12, 30, 0.9);
      --text-main: #f9fafb;
      --text-sub: #cbd5f5;
      --border-soft: rgba(148, 163, 255, 0.35);
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Pretendard", system-ui, sans-serif;
      min-height: 100vh;
      background:
        radial-gradient(circle at top, rgba(88, 101, 242, 0.35) 0, transparent 55%),
        radial-gradient(circle at bottom, rgba(6, 95, 180, 0.3) 0, transparent 60%),
        linear-gradient(160deg, var(--bg-top), var(--bg-deep));
      color: var(--text-main);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 18px 16px;
    }

    .shell { width: 100%; max-width: 440px; }

    .card {
      background: var(--glass);
      border-radius: 24px;
      padding: 18px 18px 18px;
      border: 1px solid rgba(15, 23, 42, 0.9);
      box-shadow:
        0 20px 45px rgba(0, 0, 0, 0.85),
        0 0 0 1px rgba(15, 23, 42, 0.7);
      position: relative;
      overflow: hidden;
      backdrop-filter: blur(16px);
    }

    .card::before {
      content: "";
      position: absolute;
      inset: 1px;
      border-radius: 22px;
      border: 1px solid rgba(148, 163, 255, 0.35);
      pointer-events: none !important;
    }

    .top-accent {
      position: absolute; left: 16%; right: 16%; top: 10px; height: 1px;
      background: linear-gradient(90deg, transparent, rgba(148,163,255,0.9), transparent);
    }

    /* â­ ê³µí†µ ìŠ¤íƒ€ì¼ì— ë§ì¶˜ ìƒë‹¨ ìŠ¤í… ë°” (ë’¤ë¡œê°€ê¸° ì—†ìŒ) */
    .top-bar {
      position: relative;
      z-index: 2;
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-top: 8px;
      margin-bottom: 4px;
    }

    .top-bar-left,
    .top-bar-center,
    .top-bar-right {
      display: flex;
      align-items: center;
    }

    .top-bar-left { min-width: 70px; } /* ì²« í˜ì´ì§€ë¼ ë¹„ì›Œë‘  */
    .top-bar-center {
      flex: 1;
      justify-content: center;
      font-size: 0.9rem;
      font-weight: 600;
      color: #e5e7ff;
    }
    .top-bar-right {
      min-width: 70px;
      justify-content: flex-end;
    }

    .step-pill {
      padding: 3px 9px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,255,0.7);
      font-size: 0.72rem;
      color: rgba(203,213,255,0.95);
      background: rgba(10,16,40,0.95);
      white-space: nowrap;
    }

    /* ë¡œê³  */
    .logo-badge-wrap {
      display: flex; justify-content: center;
      margin-top: 8px; margin-bottom: 10px;
    }

    .logo-badge {
      width: 70px; height: 70px; border-radius: 22px;
      display: flex; align-items: center; justify-content: center;
      background:
        radial-gradient(circle at 25% 0%, rgba(255,255,255,0.7), transparent 55%),
        radial-gradient(circle at 80% 100%, rgba(129,140,248,0.75), transparent 55%),
        linear-gradient(135deg, #181b3a, #2f3564);
      box-shadow:
        0 16px 30px rgba(15,23,42,0.95),
        0 0 0 1px rgba(148,163,255,0.5);
    }

    .logo-badge-inner {
      width: 50px; height: 50px; border-radius: 18px;
      background: radial-gradient(circle at 30% 0%, #ffffff, #c7d2ff);
      display: flex; align-items: center; justify-content: center;
      box-shadow:
        0 8px 18px rgba(59,130,246,0.6),
        0 0 0 1px rgba(226,232,255,0.7);
    }

    .logo-badge svg { width: 26px; height: 26px; }

    h1 {
      text-align: center; margin-bottom: 4px;
      font-size: 2rem; font-weight: 800;
      letter-spacing: 0.08em; text-transform: uppercase;
      background: linear-gradient(120deg, #ffffff, #e0e7ff);
      -webkit-background-clip: text; color: transparent;
    }

    .subtitle {
      text-align: center;
      font-size: 0.8rem;
      letter-spacing: 0.28em;
      color: #a5b4fc;
      margin-bottom: 16px;
    }

    .description {
      font-size: 0.98rem;
      text-align: center;
      line-height: 1.45;
      color: var(--text-sub);
      margin-bottom: 26px;
    }

    .section-box {
      background:
        radial-gradient(circle at top left, rgba(148,163,255,0.22), transparent 55%),
        rgba(15,23,42,0.96);
      border-radius: 20px;
      padding: 14px 14px 12px;
      border: 1px solid var(--border-soft);
      margin-bottom: 14px;
    }

    .section-title {
      text-align: center;
      font-size: 1rem;
      letter-spacing: 0.12em;
      color: #e5e7ff;
      margin-bottom: 6px;
    }

    .section-hint {
      text-align: center;
      font-size: 0.84rem;
      color: var(--text-sub);
      margin-bottom: 12px;
    }

    .btn {
      width: 100%;
      border-radius: 999px;
      padding: 12px 0;
      border: none;
      font-size: 0.95rem;
      font-weight: 650;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      background: linear-gradient(135deg, var(--primary-strong), var(--primary));
      color: #fff;
      box-shadow: 0 12px 26px rgba(55, 48, 163, 0.75);
      margin-bottom: 8px;
      position: relative;
      overflow: hidden;
    }

    input[type=file] {
      position: absolute;
      inset: 0;
      opacity: 0;
      width: 100%;
      height: 100%;
      cursor: pointer;
      z-index: 5;
    }

    /* â–¼ MY í”¼ë¶€ ê¸°ë¡ */
    .menu-box {
      margin-top: 16px;
      padding: 14px 14px 12px;
      border-radius: 20px;
      background: rgba(15, 23, 42, 0.86);
      border: 1px solid var(--border-soft);
    }

    .menu-title {
      font-size: 0.82rem;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: #9ca3ff;
      margin-bottom: 4px;
    }

    .today-status {
      font-size: 0.84rem;
      color: #cbd5ff;
      margin-bottom: 8px;
    }

    .btn-mini {
      width: 100%;
      border-radius: 999px;
      padding: 10px 10px;
      margin-top: 4px;
      background: rgba(15,23,42,0.9);
      border: 1px solid rgba(148, 163, 255, 0.6);
      color: #e5e7eb;
      font-size: 0.87rem;
      display: flex; align-items: center; justify-content: center;
      gap: 8px;
    }
  </style>
</head>

<body>
<div class="shell">
  <div class="card">
    <div class="top-accent"></div>

    <!-- â­ ìƒë‹¨ ìŠ¤í… ë°” (ì²« í™”ë©´: ë’¤ë¡œê°€ê¸° ì—†ìŒ) -->
    <div class="top-bar">
      <div class="top-bar-left"></div>
      <div class="top-bar-center">AI í”¼ë¶€ ì½”ì¹˜</div>
      <div class="top-bar-right">
        <div class="step-pill">STEP 1 / 4</div>
      </div>
    </div>

    <!-- ë¡œê³  -->
    <div class="logo-badge-wrap">
      <div class="logo-badge">
        <div class="logo-badge-inner">
          <svg viewBox="0 0 24 24">
            <path fill="#2563eb" d="M12 2.5C11.4 3.4 7 9.5 7 13a5 5 0 0010 0c0-3.5-4.4-9.6-5-10.5z"/>
            <path fill="#60a5fa" d="M12 4s-3.5 4.7-3.5 8a3.5 3.5 0 007 0C15.5 8.7 12 4 12 4z"/>
          </svg>
        </div>
      </div>
    </div>

    <h1>AI í”¼ë¶€ ì½”ì¹˜</h1>
    <div class="subtitle">PHOTO â€¢ ANALYSIS â€¢ ROUTINE</div>

    <div class="description">
      ì–¼êµ´ì´ ë³´ì´ëŠ” ì‚¬ì§„ í•œ ì¥ë§Œ ì˜¬ë¦¬ë©´,<br />
      AIê°€ í”¼ë¶€ ë¶„ì„Â·ë£¨í‹´Â·ì¶”ì²œ ì œí’ˆì„<br />
      ì•ˆë‚´í•´ë“œë¦½ë‹ˆë‹¤.
    </div>

    <!-- ì—…ë¡œë“œ ë°•ìŠ¤ -->
    <div class="section-box">
      <div class="section-title">PHOTO UPLOAD</div>
      <div class="section-hint">
        ê°¤ëŸ¬ë¦¬ì—ì„œ ì„ íƒí•˜ê±°ë‚˜,<br />
        ë°ì€ ê³³ì—ì„œ ê³ ë¯¼ ë¶€ìœ„ê°€ ë³´ì´ê²Œ ì´¬ì˜í•˜ì„¸ìš”.
      </div>

      <label class="btn">
        ğŸ“ íŒŒì¼ì—ì„œ ì„ íƒí•˜ê¸°
        <input type="file" accept="image/*" onchange="goNextPage(event)">
      </label>

      <label class="btn">
        ğŸ“· ì¹´ë©”ë¼ë¡œ ì´¬ì˜í•˜ê¸°
        <input type="file" accept="image/*" capture="environment" onchange="goNextPage(event)">
      </label>
    </div>

    <!-- â–¼ MY í”¼ë¶€ ê¸°ë¡ -->
    <div class="menu-box">
      <div class="menu-title">MY í”¼ë¶€ ê¸°ë¡</div>
      <div id="today-status" class="today-status">ğŸ“… ì˜¤ëŠ˜ ê¸°ë¡ ì—†ìŒ</div>

      <button class="btn-mini" onclick="goToProducts()">
        ğŸ” ìµœê·¼ ì§„ë‹¨ ê²°ê³¼ Â· ì¶”ì²œ ì œí’ˆ ë³´ê¸°
      </button>
    </div>

  </div>
</div>

<script>
  // ì‚¬ì§„ ì„ íƒ/ì´¬ì˜ í›„ â†’ base64 ë³€í™˜ â†’ sessionStorage â†’ confirm.html ì´ë™
  function goNextPage(event) {
    const file = event.target.files && event.target.files[0];
    if (!file) return;

    const reader = new FileReader();
    reader.onload = function (e) {
      const base64 = e.target.result;
      if (!base64) {
        alert("ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.");
        return;
      }
      sessionStorage.setItem("uploadedImage", base64);
      window.location.href = "confirm.html";
    };
    reader.readAsDataURL(file);
  }

  function updateTodayStatus() {
    const raw = localStorage.getItem("diagnosisHistory");
    const today = new Date().toISOString().slice(0, 10);
    let text = "ğŸ“… ì˜¤ëŠ˜ ê¸°ë¡ ì—†ìŒ";

    if (raw) {
      try {
        const history = JSON.parse(raw);
        if (Array.isArray(history) && history.some(h => h.date === today)) {
          text = "ğŸ“… ì˜¤ëŠ˜ ê¸°ë¡ ìˆìŒ â†’ ë°”ë¡œ ë³´ê¸°";
        }
      } catch (_) {
        // JSON íŒŒì‹± ì‹¤íŒ¨ ì‹œ ê¸°ë³¸ ë¬¸êµ¬ ìœ ì§€
      }
    }
    document.getElementById("today-status").innerText = text;
  }

  function goToProducts() {
    const raw = localStorage.getItem("diagnosisHistory");
    if (!raw) return alert("ë¨¼ì € AI ì§„ë‹¨ì„ ì§„í–‰í•´ì£¼ì„¸ìš”!");
    window.location.href = "products.html";
  }

  updateTodayStatus();
</script>

</body>
</html>
