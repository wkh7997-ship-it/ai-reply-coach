<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>AI ëŒ€í™” ì½”ì¹˜</title>

  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif;
      background: linear-gradient(135deg, #283048, #4b6cb7);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .app-container {
      width: 100%;
      max-width: 420px;
      padding: 8px;
    }

    .card {
      background: rgba(255, 255, 255, 0.98);
      border-radius: 20px;
      padding: 12px 14px;
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.18);
    }

    .header-row {
      display: flex;
      align-items: center;
      margin-bottom: 8px;
    }

    .icon-circle {
      width: 34px;
      height: 34px;
      border-radius: 999px;
      background: #e5edff;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 8px;
      flex-shrink: 0;
    }

    .icon-circle img {
      width: 20px;
      height: 20px;
    }

    .header-text-main {
      font-size: 16px;
      font-weight: 800;
      color: #111827;
      margin-bottom: 2px;
    }

    .header-text-sub {
      font-size: 11px;
      color: #6b7280;
    }

    .section-title {
      font-size: 13px;
      font-weight: 700;
      margin: 6px 0 4px 0;
      color: #111827;
    }

    select {
      width: 100%;
      padding: 7px 8px;
      font-size: 13px;
      border-radius: 8px;
      border: 1px solid #d1d5db;
      background: #f9fafb;
      outline: none;
    }

    textarea {
      width: 100%;
      height: 70px;
      padding: 8px;
      font-size: 13px;
      border-radius: 8px;
      border: 1px solid #d1d5db;
      background: #f9fafb;
      resize: none;
      outline: none;
    }

    .hint {
      font-size: 11px;
      color: #9ca3af;
      margin-top: 2px;
    }

    .btn {
      width: 100%;
      margin-top: 8px;
      padding: 9px;
      font-size: 14px;
      font-weight: 700;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      background: #4b6cb7;
      color: #ffffff;
      box-shadow: 0 3px 8px rgba(75, 108, 183, 0.4);
    }

    .btn:active {
      background: #3f59a0;
    }

    .reply-box {
      margin-top: 8px;
      padding: 10px 10px;
      border-radius: 14px;
      background: #f3f4ff;
      border-left: 4px solid #4b6cb7;
      font-size: 14px;
      color: #111827;
      white-space: pre-wrap;
      max-height: 180px;
      overflow-y: auto;
    }

    .reply-label {
      font-size: 12px;
      font-weight: 600;
      color: #4b5563;
      margin-bottom: 4px;
    }

    .small-btn {
      margin-top: 10px;
      width: 100%;
      padding: 8px;
      font-size: 13px;
      border-radius: 999px;
      border: 1px solid #d1d5db;
      background: #ffffff;
      color: #374151;
      cursor: pointer;
    }
  </style>
</head>
<body>

<div class="app-container">
  <!-- ğŸ”µ í™”ë©´ 1: ì…ë ¥ í™”ë©´ -->
  <div id="screen-input" class="card">
    <div class="header-row">
      <div class="icon-circle">
        <img src="https://cdn-icons-png.flaticon.com/512/2462/2462719.png" alt="chat">
      </div>
      <div>
        <div class="header-text-main">AI ëŒ€í™” ì½”ì¹˜</div>
        <div class="header-text-sub">ì¹´í†¡ ë‹µì¥, ë­ë¼ê³  ë³´ë‚¼ì§€ ë§‰ë§‰í•  ë•Œ ì¨ë³´ì„¸ìš”.</div>
      </div>
    </div>

    <div>
      <div class="section-title">ìƒí™©</div>
      <select id="situation">
        <option value="ê¸°ë³¸">ê¸°ë³¸</option>
        <option value="ì—°ì• ">ì—°ì• </option>
        <option value="ì¹œêµ¬">ì¹œêµ¬</option>
        <option value="ì§ì¥">ì§ì¥</option>
        <option value="ê°€ì¡±">ê°€ì¡±</option>
      </select>
    </div>

    <div>
      <div class="section-title" style="margin-top: 8px;">ìƒëŒ€ë°© ë©”ì‹œì§€</div>
      <textarea id="inputText" placeholder="ì¹´í†¡ ë‚´ìš©ì„ ê·¸ëŒ€ë¡œ ë¶™ì—¬ë„£ê±°ë‚˜ ì ì–´ë³´ì„¸ìš”."></textarea>
      <div class="hint">ì˜ˆ) â€œì˜¤ëŠ˜ ëª¨ì„ ëª» ê°ˆ ê²ƒ ê°™ì€ë° ë­ë¼ê³  ì–˜ê¸°í•˜ì§€?â€</div>
    </div>

    <button class="btn" onclick="sendText()">ë‹µì¥ ìƒì„±í•˜ê¸°</button>
  </div>

  <!-- ğŸŸ£ í™”ë©´ 2: ê²°ê³¼ í™”ë©´ -->
  <div id="screen-result" class="card" style="display:none;">
    <div class="header-row">
      <div class="icon-circle">
        <img src="https://cdn-icons-png.flaticon.com/512/4712/4712104.png" alt="ai">
      </div>
      <div>
        <div class="header-text-main">AI ì¶”ì²œ ë‹µì¥</div>
        <div class="header-text-sub">ìƒí™©ì— ë§ê²Œ ë¶€ë“œëŸ½ê²Œ ì •ë¦¬í•´ë´¤ì–´ìš”.</div>
      </div>
    </div>

    <div class="reply-box">
      <div class="reply-label">ì´ë ‡ê²Œ ë³´ë‚´ë³´ëŠ” ê±´ ì–´ë•Œìš”?</div>
      <div id="replyText"></div>
    </div>

    <button class="small-btn" onclick="goBack()">ë‹¤ë¥¸ ë©”ì‹œì§€ë¡œ ë‹¤ì‹œ ì‘ì„±í•˜ê¸°</button>
  </div>
</div>

<script>
async function sendText() {
  const text = document.getElementById("inputText").value.trim();
  const situation = document.getElementById("situation").value;

  if (!text) {
    alert("ìƒëŒ€ë°© ë©”ì‹œì§€ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
    return;
  }

  try {
    const res = await fetch("/reply", {
      method: "POST",
      headers: {"Content-Type": "application/json"},
      body: JSON.stringify({ text, situation })
    });

    const data = await res.json();

    // í™”ë©´ ì „í™˜: ì…ë ¥ í™”ë©´ ìˆ¨ê¸°ê³  ê²°ê³¼ í™”ë©´ ë³´ì—¬ì£¼ê¸°
    document.getElementById("screen-input").style.display = "none";
    document.getElementById("screen-result").style.display = "block";

    // ë‹µì¥ í…ìŠ¤íŠ¸ ì±„ìš°ê¸°
    const replyDiv = document.getElementById("replyText");
    replyDiv.textContent = data.reply || "ë‹µì¥ì„ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.";
  } catch (e) {
    alert("ì„œë²„ ìš”ì²­ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.");
  }
}

function goBack() {
  // ë‹¤ì‹œ ì…ë ¥ í™”ë©´ìœ¼ë¡œ
  document.getElementById("screen-result").style.display = "none";
  document.getElementById("screen-input").style.display = "block";
}
</script>

</body>
</html>








